{"version":3,"file":"index.js","sources":["../src/endpoint/defaults.ts","../src/utils/lower-case-header-fields.ts","../src/endpoint/merge.ts","../src/endpoint/utils/add-query-parameters.ts","../src/endpoint/utils/extract-url-variable-names.ts","../src/endpoint/parse.ts","../src/endpoint/endpoint-with-defaults.ts","../src/endpoint/index.ts","../src/endpoint/with-defaults.ts","../src/error/index.ts","../src/request/fetch-wrapper.ts","../src/request/index.ts","../src/request/with-defaults.ts","../src/client/get-endpoint-options.ts","../src/client/utils/pick.ts","../src/client/constructor.ts","../src/client/register-plugins.ts","../src/client/factory.ts","../src/client/index.ts","../src/plugins/auth/before-request.ts","../src/plugins/pagination/get-page.ts","../src/plugins/register-endpoints/register-endpoints.ts","../src/plugins/validate-request/validate.ts","../src/index.ts","../src/plugins/notice/index.ts","../src/plugins/auth/index.ts","../src/plugins/auth/validate-options.ts","../src/plugins/pagination/index.ts","../src/plugins/register-endpoints/index.ts","../src/plugins/register-api-endpoints/index.ts","../src/plugins/validate-request/index.ts"],"sourcesContent":null,"names":["DEFAULTS","method","baseUrl","headers","accept","lowerCaseHeaderFields","Object","keys","reduce","newHeaders","key","toLowerCase","merge","endpointDefaults","endpointRoute","endpointOptions","split","url","assign","deepmerge","all","filter","Boolean","isMergeableObject","isPlainObject","addQueryParameters","params","separator","includes","names","name","length","map","q","encodeURIComponent","join","urlVariableRegex","removeNonChars","variableNameMatch","replace","contentType","parse","accepts","_method","_url","request","toUpperCase","urlVariableNames","matches","match","a","b","concat","extractUrlVariableNames","urlTemplate","expand","test","body","bodyParams","_body","remainingParams","bodyIsFormData","constructor","paramName","append","substring","JSON","stringify","endpointWithDefaults","endpoint","withDefaults","oldDefaults","newDefaults","bind","defaults","HTTPError","Error","message","statusCode","options","captureStackTrace","_this","error","status","getData","response","get","json","text","arrayBuffer","fetchWrapper","requestOptions","responseStatus","responseUrl","responseHeaders","fetch","nodeFetch","then","field","value","statusText","data","oldEndpoint","endpointParams","hook","getEndpointOptions","clientOptions","requestHook","object","newObject","plugins","Singular","client","forEach","plugin","registerPlugins","oldPlugins","newPlugins","slice","push","factory","Bitbucket","Client","beforeRequest","state","auth","authorization","token","username","hash","btoa","password","getPage","direction","responseData","registerEndpoints","routes","namespaceName","endpointName","endpointObject","alias","namespaceAlias","apiAlias","validate","deprecated","console","log","_client","param","expectedType","type","valueIsPresent","required","unparsedValue","parseInt","isNaN","Plugins","notice","validateOptions","before","hasNextPage","next","getNextPage","hasPreviousPage","previous","getPreviousPage","ROUTES"],"mappings":"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"}